/* 
Name : MultiLingual Loader from Secure website
Author : SHelfinger
Author Name : Sascha Sebastian Helfinger
Domain : https://shelfinger.eu
License : DTFUW (Do the Fuck you want) License
*/
(function($){"use strict";$.fn.multilingual=function(o){var st=$.extend({loadingbar:".loading",loadingbarTimeout:3000,language:"en",AjaxType:"POST",AjaxDataType:"json",AjaxTimeout:30000,userLang:navigator.language||navigator.userLanguage,errorText:"Can't get multilingual file.",}, o);if(st.language!==st.userLang.split('-')[0]){sE("Your Browser not has the requested language - fall back to English - multilingual()",1);st.language="en";}if(st.AjaxURL===""){sE("Please specify a Ajax URL first - multilingual()",1);return;}if(st.DataStructure===""){sE("Please specify a Data Structure first - multilingual()",1);return;}$(st.loadingbar).show();return this.each(function(){var m=$(this);m.json=gA(m);loop(m);done();});function loop(m){if(m.json.responseText){var json=JSON.parse(m.json);var j=Object.keys(json).map(function(en){return(json[st.language].en=en)&&json[st.language];});$.each(st.DataStructure,function(i,a){$(a).html(j[0][0][i]);});}else{sE(st.errorText,true);}}function done(){if(st.loadingbarTimeout){setTimeout(function(){$(st.loadingbar).fadeOut();},st.loadingbarTimeout);}}function sE(m,s,d){if(d){$(st.loadingbar).html(m);}else{if(console&&!s){console.log(m);}else if(s){$(st.loadingbar).html(m);}else if(!console&&!s){$(st.loadingbar).html(m);}}$(st.loadingbar).css("background-color","rgba(255, 2, 2, 0.5)");}function gA(m){var ajax={url:st.AjaxURL,data:st.AjaxData,cache:false,type:st.AjaxType,dataType:st.AjaxDataType,timeout:st.AjaxTimeout,success:function(r){m.response=r;},error:function(d,e,t){sE("multilingual(): Problem loading Ajax - error: "+e+" - "+t);}};return $.ajax(ajax);}};})(jQuery);
